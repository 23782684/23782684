* C:\EDesign344\GitRepo\LTSpice\E344_23782684_A5\E344_23782684_A5.asc
V2 N002 0 5
RSense5V N002 5V 1µ
D2 motor_voltage Vbatt 1N4148
V3 motor_control P001 PULSE(0 3.3 20m 0 0 60m 60 1)
V5 Vbatt 0 6.5
Rm N008 N009 {R_motor}
Lm Vbatt N008 {L_motor}
B_EMF N009 motor_voltage V=V(Omega)*K_emf
B5 0 Omega I=k_t*I(B_EMF)
B6 Omega 0 I=sgn(V(Omega))*min(Tint,0.1*abs(v(Omega)))
C_J_intertia Omega 0 {J}
R_B_friction Omega 0 {1/B}
V1 P001 N001 PULSE(0 3.3 150m 10u 10u 0.5m 1m 50)
V4 N001 0 PULSE(0 3.3 200m 10u 10u 0.1m 1m 50)
R_sense N003 0 0.01
R_MSense R_MSense 0 100k
XU1 N005 N007 5V 0 R_MSense LTC6078
M1 motor_voltage motor_control N003 N003 FQD13N06L
R1 motor_control 0 100k
R2 N004 N003 16k
R3 N005 N004 16k
C1 0 N004 0.1µ
C2 0 N005 0.1µ
R4 N007 0 1k
R5 R_MSense N007 400k
R6 N006 NC_01 50k
R7 0 N006 200k
.model D D
.lib C:\Users\camer\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\camer\Documents\LTspiceXVII\lib\cmp\standard.mos
* Don't change these -- used for auto-assessments.\nYou may modify the input files (.txt and .csv) \n               while developing.\nFor submission: \n  * Only one label name per net name\n  * Use only VSupply for power
* =============================\nIncludes (don't fiddle with this!!)\n=============================
* =======================================\nYour circuit goes here, these are just placeholders.\n=======================================
* PLEASE WAIT FOR YOUR SIMULATION TO FINISH BEFORE SUBMITTING.
.tran 0 {transtop} 0 1u
.include A5cfg.txt
* Motor control\n(input to your circuit)
* 5V supply \n(input to your circuit)
* Battery supply \n(input to your circuit)
* Motor voltage\n(Output from your circuit)
.incl IRF9Z24N.LIB
.incl FQD13N06L.LIB
* G
* D
* S
.lib LTC5.lib
.backanno
.end
